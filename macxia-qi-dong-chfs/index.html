<!doctype html><html lang=zh-CN><head><meta content="public, max-age=31536000" http-equiv=Cache-Control><meta content=public http-equiv=Pragma><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1,viewport-fit=cover" name=viewport><title>Zerobiubiu</title><link href=https://zerobiubiu.top/print.css media=print rel=stylesheet><link href=https://zerobiubiu.top/poole.css rel=stylesheet><link href=https://zerobiubiu.top/hyde.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css rel=stylesheet><link sizes="16x16 32x32 64x64" href=https://zerobiubiu.top/img/logo.png rel=icon><body><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://zerobiubiu.top> <img alt=logo class=logo src=https://zerobiubiu.top/img/logo.png> <h1>Zerobiubiu</h1> </a><p class=lead>我的博客</div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/zerobiubiu target=_blank><i class="bi bi-github">Github</i></a><li class=sidebar-nav-item><a href=/about target=_blank><i class="bi bi-file-person">About</i></a></ul></div></div><div class="content container"><div class=post><h1 class=post-title>Mac下启动chfs</h1><span class=post-date>2022-10-06 22:08:34</span><blockquote><p>本方法适用于 Linux 和 Mac</blockquote><p>由于macOS下的chfs没有像Windows一样的GUI可以挂在后台，所以只能去终端用命令去打开chfs，但是退出终端的同时也会带着chfs一起退出，所以用screen来在后台保持运行，不用因为退出终端而导致退出。</p><span id=continue-reading></span><h2 id=jiao-cheng>教程</h2><p>下载内容：<ol><li><a href=http://iscute.cn/chfs rel=noopener target=_blank>chfs</a><li><a href=https://www.gnu.org/software/screen/ rel=noopener target=_blank>screen</a></ol><h3 id=chfs-de-shi-yong>chfs 的使用</h3><p>把 chfs 执行文件放在确定的位置（拟定在 <code>~/</code> 目录下），使用 <code>～/chfs</code> 即可运行，但是由于未配置，他会默认读取 <code>~/</code> 目录，使用80端口，匿名用户可以使用 <strong>读写删</strong> 权限，所以要对启动做出一定配置。<pre class=language-sh data-lang=sh style=color:#c0c5ce;background-color:#2b303b><code class=language-sh data-lang=sh><span style=color:#bf616a>~/chfs --path</span><span>="</span><span style=color:#a3be8c>/Users/wang/PublicFiles</span><span>"</span><span style=color:#bf616a> --port</span><span>=8080</span><span style=color:#bf616a> --rule</span><span>="</span><span style=color:#a3be8c>::r|testUser:passwd:rwd</span><span>"
</span></code></pre><p>最常用的三个配置参数：<p><code>--path="目录1|目录2|"目录 3""</code> 要共享的目录，如果需要共享多个目录，则用 <code>|</code> 符号隔开。 <strong>注意：如果路径带有空格，则需要将整个路径用引号包住。</strong><p><code>--port=端口号</code> 如果不做配置，默认使用80端口。 <strong>没有特殊需求，一般采用80端口最为合适。</strong><p><code>--rule="用户配置"</code> 配置格式为 <code>用户名:密码:权限</code> ，匿名用户不需要填写用户和密码即可，权限分为 <code>r-读，w-写，d-删除</code> 需要那个只需要在权限后写下字母即可，不写权限即为不可访问。使用 <code>|</code> 符号分隔用户。<p>更加详细的使用请查看<a href=http://iscute.cn/chfs rel=noopener target=_blank>官方说明</a><h3 id=screen-de-shi-yong>screen 的使用</h3><blockquote><p>Mac 默认自带了screen，如果你没有自带推荐先去安装 <a href=https://brew.sh/ rel=noopener target=_blank>homebrew</a> 包管理器来安装screen， 其他平台也同理去包管理器去安装，如果没有可以去上边的官网去查看。</blockquote><p><a href=https://www.gnu.org/software/screen/manual/screen.html rel=noopener target=_blank>详细文档</a><h3 id=ji-chu-yong-fa>基础用法</h3><p>新建screen终端 <code>screen -S 名字</code><p>重连 <code>screen -r 会话ID</code><p>显示存在终端 <code>screen -ls</code><p>删除终端 <code>screen -XS "会话id或者名称" quit</code><p>退出当前screen终端，但不影响运行 <code>CTRL+D</code><h2 id=shi-yong-guo-cheng>使用过程</h2><ol><li>使用 <code>screen -S 名字</code> 来新建一个screen终端区<li>在这个新终端内执行 chfs 启动命令即可<li>再去退出或者关闭终端就不影响程序的运行了</ol></div></div>